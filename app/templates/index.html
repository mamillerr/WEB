{% extends "layouts/base.html" %}

{% block user_status %}
<img src="https://klike.net/uploads/posts/2023-01/1674365337_3-31.jpg" class="rounded-3" style="width: 80px;" alt="Avatar" />
<div class="d-flex flex-column mx-4">
    <p class="fs-3 my-1 text-secondary">Dr. Pepper</p>
    <div class="mt-1">
        <a class="link-offset-2 fs-5" href="{% url 'settings' %}">settings</a>
        <a class="link-offset-2 fs-5 mx-3" href="#">log out</a>
    </div>
</div>
{% endblock user_status %}

{% block content %}
<div class="col-9 my-4">
    <!-- Title of the page and link to the hot questions-->
    <div class="d-flex justify-content-start align-items-center">
        <h2 class="text-secondary">New Questions</h2>
        <a class="link-offset-2 fs-5 mx-3" href="#">Hot Questions</a>
    </div>
    <!-- Question template -->
    {% for question in questions %}

    <div class="container border border-2 rounded-3 p-3 my-3">
      {% include 'components/question-item.html' %}
        <!-- New line -->
        <div class="row align-items-center">
            <!-- Column for likes -->
            <div class="col-2">
                <input value="{{question.likes_num}}" min="0" type="number" id="typeNumber" class="form-control counter" />
            </div>
            <!-- Column for tags and answers -->
            <div class="col-10">
               <div class="d-flex justify-content-start align-items-center">
                    <a class="link-offset-2 fs-5" href="{% url 'question' question.id %}">answer({{question.answers_num}})</a>
                    <div class="mx-5">
                        <span class="fs-5 text-secondary">Tags: </span>
                        {% for tag in question.tags %}
                            <a class="link-offset-2 fs-5 mx-1" href="{% url 'tag' tag %}">{{tag}}</a>
                        {% endfor %}
                    </div>
               </div>
            </div>
        </div>
    </div>

    {% endfor %}
    <!-- End of question template -->
    <!-- Pagination -->
    <nav>
        <ul class="pagination justify-content-start my-4">
          {% if questions.has_previous %}
            <li class="page-item">
              <a class="page-link" href="?page={{ questions.previous_page_number }}">Previous</a>
            </li>
          {% else %}
            <li class="page-item disabled">
              <a class="page-link" aria-disabled="true">Previous</a>
            </li>
          {% endif %}

          {% for i in questions.paginator.page_range %}
            {% if questions.number == i %}
              <li class="page-item active"><a class="page-link">{{i}}</a></li>
            {% else %}
              <li class="page-item"><a class="page-link" href="?page={{ i }}">{{i}}</a></li>
            {% endif %}
          {% endfor %}

          {% if questions.has_next %}
            <li class="page-item">
              <a class="page-link" href="?page={{ questions.next_page_number }}">Next</a>
            </li>
          {% else %}
            <li class="page-item disabled">
              <a class="page-link" aria-disabled="true">Next</a>
            </li>
          {% endif %}
        </ul>
    </nav>
    <!-- End of pagination -->
</div>
{% endblock content %}
